<div class="fixed inset-0 bg-black/70 backdrop-blur-sm flex items-center justify-center z-50 animate-fadeIn">
    <div class="bg-white text-black rounded-2xl shadow-2xl w-full max-w-2xl transform animate-scaleIn">

        <!-- HEADER -->
        <div class="px-5 py-4 border-b flex justify-between items-center">
            <h5 class="text-xl font-semibold tracking-tight">
                {{ isEditMode ? 'Editar Filme' : 'Adicionar Filme' }}
            </h5>

            <button class="text-red-600 text-3xl leading-none hover:scale-110 transition-transform" (click)="onClose()"
                type="button">
                &times;
            </button>
        </div>

        <!-- BODY -->
        <div class="p-5">
            <form [formGroup]="movieForm" (ngSubmit)="onSubmit()">

                <div class="grid grid-cols-1 md:grid-cols-2 gap-6">

                    <!-- IMAGEM -->
                    <div class="flex flex-col items-center justify-center">

                        <div
                            class="w-40 h-56 rounded-xl overflow-hidden flex items-center justify-center bg-gray-100 border hover:shadow-lg transition">
                            <img *ngIf="previewUrl; else placeholder" [src]="previewUrl"
                                class="w-full h-full object-cover" alt="Capa do filme" />

                            <ng-template #placeholder>
                                <img src="../../../../assets/icons/movie.png" alt="Placeholder" class="opacity-60" />
                            </ng-template>
                        </div>

                        <label for="photo" class="mt-3 cursor-pointer text-sm text-blue-600 hover:underline">
                            Inserir imagem
                        </label>

                        <input type="file" id="photo" accept=".png,.jpg,.jpeg" class="hidden"
                            (change)="onFileSelected($event)" />
                    </div>

                    <!-- FORM -->
                    <div>

                        <!-- NOME -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-1">
                                Nome*
                            </label>

                            <input type="text" formControlName="name" class="input-field" placeholder="Nome do filme" />
                        </div>

                        <!-- NOTA -->
                        <div class="mb-6">
                            <label class="block text-sm font-medium mb-1">
                                Nota*
                            </label>

                            <div class="flex space-x-1 cursor-pointer">
                                <i *ngFor="let star of [1,2,3,4,5]"
                                    class="fa-star text-2xl transition-transform hover:scale-110"
                                    [class.fas]="star <= movieForm.value.rating"
                                    [class.far]="star > movieForm.value.rating" (click)="setRating(star)"></i>
                            </div>
                        </div>

                        <!-- ANÁLISE -->
                        <div class="mb-4">
                            <label class="block text-sm font-medium mb-1">
                                Análise*
                            </label>

                            <textarea formControlName="analysis" rows="4" class="input-field"
                                placeholder="Escreva sua análise"></textarea>
                        </div>

                    </div>
                </div>

                <!-- FOOTER -->
                <div class="flex justify-end border-t pt-4 mt-6">
                    <button type="submit" class="btn-primary active:scale-95 transition-transform"
                        [disabled]="movieForm.invalid">
                        {{ isEditMode ? 'Atualizar Filme' : 'Adicionar Filme' }}
                    </button>
                </div>

            </form>
        </div>
    </div>
</div>